{"version":3,"sources":["script.js"],"names":["app","showForm","$","slideUp","slideDown","hideForm","getContactData","e","$li","currentTarget","closest","nameData","find","text","emailData","addressData","addClass","val","attr","this","editContact","id","preventDefault","filter","$form","deleteContact","remove","clearForm","target","not","removeClass","newContact","contactTemplate","html","contact","serializeArray","templateFunction","Handlebars","compile","html_code","append","incrementId","Number","init","self","on","submit","form_id","li_id","hasClass"],"mappings":"AAQA,GAAAA,MACAC,SAAA,WACAC,EAAA,QAAAC,QAAA,KACAD,EAAA,qBAAAE,UAAA,MAEAC,SAAA,WACAH,EAAA,QAAAE,UAAA,KACAF,EAAA,qBAAAC,QAAA,MAEAG,eAAA,SAAAC,GAEA,GAAAC,GAAAN,EAAAK,EAAAE,eAAAC,QAAA,MACAC,EAAAH,EAAAI,KAAA,SAAAC,OACAC,EAAAN,EAAAI,KAAA,UAAAC,OACAE,EAAAP,EAAAI,KAAA,YAAAC,MACAX,GAAA,0BAAAc,SAAA,WACAd,EAAA,SAAAe,IAAAN,GACAT,EAAA,UAAAe,IAAAH,GACAZ,EAAA,YAAAe,IAAAF,GACAb,EAAA,eAAAgB,KAAA,UAAAV,EAAAU,KAAA,YACAC,KAAAlB,YAEAmB,YAAA,SAAAb,EAAAc,GACAd,EAAAe,gBACA,IAAAd,GAAAN,EAAA,MAAAqB,OAAA,WACA,MAAArB,GAAAiB,MAAAD,KAAA,YAAAG,IAEAG,EAAAtB,EAAA,0BACAS,EAAAa,EAAAZ,KAAA,SAAAK,MACAH,EAAAU,EAAAZ,KAAA,UAAAK,MACAF,EAAAS,EAAAZ,KAAA,YAAAK,KAEAT,GAAAI,KAAA,SAAAC,KAAAF,GACAH,EAAAI,KAAA,UAAAC,KAAAC,GACAN,EAAAI,KAAA,YAAAC,KAAAE,IAEAU,cAAA,SAAAlB,EAAAc,GACA,GAAAb,GAAAN,EAAA,MAAAqB,OAAA,WACA,MAAArB,GAAAiB,MAAAD,KAAA,YAAAG,GAEAb,GAAAkB,UAEAC,UAAA,SAAApB,GACAL,EAAAK,EAAAqB,QAAAhB,KAAA,SAAAiB,IAAA,WAAAZ,IAAA,IACAf,EAAAK,EAAAqB,QAAAE,YAAA,YAEAC,WAAA,WACA,GAAAC,GAAA9B,EAAA,YAAA+B,OACAC,EAAAhC,EAAA,0BAAAiC,iBACAC,EAAAC,WAAAC,QAAAN,GACAO,EAAAH,GAAAF,QAAAA,GACAhC,GAAA,aAAAsC,OAAAD,IAGAE,YAAA,SAAApB,GACA,MAAAqB,UAAArB,IAEAsB,KAAA,WACA,GAAAC,GAAAzB,KACAK,EAAAtB,EAAA,yBAEAA,GAAA,oBAAA2C,GAAA,QAAA1B,KAAAlB,UACAC,EAAA,wBAAA2C,GAAA,QAAA1B,KAAAd,UAEAmB,EAAAsB,OAAA,SAAAvC,GACAA,EAAAe,gBACA,IAAAyB,GAAA7C,EAAA,wBAAAe,MACA+B,EAAAxB,EAAAZ,KAAA,eAAAM,KAAA,UAEAM,GAAAyB,SAAA,WACAL,EAAAxB,YAAAb,EAAAyC,IAEA9C,EAAA,wBAAAe,IAAA2B,EAAAH,YAAAM,IACAH,EAAAb,WAAAxB,IAEAqC,EAAAvC,WACAuC,EAAAjB,UAAApB,KAGAL,EAAA,aAAA2C,GAAA,QAAA,QAAA,SAAAtC,GACAqC,EAAAtC,eAAAC,KAGAL,EAAA,aAAA2C,GAAA,QAAA,UAAA,SAAAtC,GACA,GAAAc,GAAAnB,EAAAK,EAAAE,eAAAC,QAAA,MAAAQ,KAAA,UACA0B,GAAAnB,cAAAlB,EAAAc,MAKAnB,GAAA,WACAF,IAAA2C","file":"scripts.min.js","sourcesContent":["// create form template\r\n// add form on click\r\n// get form data // serializeArray\r\n// create contact template\r\n  // loop through the array - handlebars - to fill the vars\r\n// on form submit append the new created contact\r\n// todo use localStorage\r\n\r\nvar app = {\r\n  showForm: function() {\r\n    $('main').slideUp(300);\r\n    $('.add-contact-form').slideDown(400);\r\n  },\r\n  hideForm: function() {\r\n    $('main').slideDown(400);\r\n    $('.add-contact-form').slideUp(300);\r\n  },\r\n  getContactData: function(e) {\r\n    // implement edit - get data from li, recall form prepopulated with data, rerewrite li\r\n    var $li = $(e.currentTarget).closest('li');\r\n    var nameData = $li.find('.name').text();\r\n    var emailData = $li.find('.email').text();\r\n    var addressData = $li.find('.address').text();\r\n    $('.add-contact-form form').addClass(\"editing\");\r\n    $('#name').val(nameData);\r\n    $('#email').val(emailData);\r\n    $('#address').val(addressData);\r\n    $('#current_id').attr('data-id', $li.attr(\"data-id\"));\r\n    this.showForm();\r\n  },\r\n  editContact: function(e, id) {\r\n    e.preventDefault();\r\n    var $li = $('li').filter(function() {\r\n    return ($(this).attr('data-id') == id);\r\n    });\r\n    var $form = $('.add-contact-form form');\r\n    var nameData = $form.find('#name').val();\r\n    var emailData = $form.find('#email').val();\r\n    var addressData = $form.find('#address').val();\r\n\r\n    $li.find('.name').text(nameData); \r\n    $li.find('.email').text(emailData); \r\n    $li.find('.address').text(addressData); \r\n  },\r\n  deleteContact: function(e, id) {\r\n    var $li = $('li').filter(function() {\r\n      return ($(this).attr('data-id') == id);\r\n    });\r\n    $li.remove();\r\n  },\r\n  clearForm: function(e) {\r\n    $(e.target).find('input').not(':hidden').val('');\r\n    $(e.target).removeClass(\"editing\");\r\n  },\r\n  newContact: function() {\r\n    var contactTemplate = $('#contact').html();\r\n    var contact = $('.add-contact-form form').serializeArray();\r\n    var templateFunction = Handlebars.compile(contactTemplate);\r\n    var html_code = templateFunction({contact: contact}); \r\n    $('#contacts').append(html_code);\r\n    // console.log(contact);\r\n  },\r\n  incrementId: function(id) {\r\n    return Number(++id);\r\n  },\r\n  init: function() {\r\n    var self = this;\r\n    var $form =  $('.add-contact-form form');\r\n\r\n    $('#add_contact_btn').on('click', this.showForm);\r\n    $('button[type=\"reset\"]').on('click', this.hideForm);\r\n\r\n    $form.submit(function(e) {\r\n      e.preventDefault();\r\n      var form_id = $('input[type=\"hidden\"]').val();\r\n      var li_id = $form.find('#current_id').attr('data-id');\r\n\r\n      if ( $form.hasClass(\"editing\")) {\r\n        self.editContact(e, li_id);\r\n      } else {\r\n        $('input[type=\"hidden\"]').val(self.incrementId(form_id));\r\n        self.newContact(e);\r\n      } \r\n      self.hideForm();\r\n      self.clearForm(e);\r\n    });\r\n\r\n    $('#contacts').on('click', '.edit', function(e) {\r\n      self.getContactData(e);\r\n    });\r\n\r\n    $('#contacts').on('click', '.delete', function(e) {\r\n      var id = $(e.currentTarget).closest('li').attr('data-id');\r\n      self.deleteContact(e, id);\r\n    });\r\n  }\r\n};\r\n\r\n$(function() {\r\n  app.init();\r\n});\r\n"]}